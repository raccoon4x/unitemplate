# Unitemplate - среда для разработки шаблонов

Позволяет разрабатывать шаблоны

### Установка

Необходимые требования:
* php >= 5.4
* git ([установка](http://git-scm.com/book/ru/v2/%D0%92%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D0%B5-%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0-Git))

#### Шаги по установке

 1. Скачать данное приложение
 ```sh
 $ git clone [git-repo-url]
 $ cd unitemplate
 ```
 где [git-repo-url] - текущий url репозитория

 2. Выполнить загрузку модулей
 ```sh
 $ php composer.phar install --no-dev
 ```
 
 3. При необходимости поставить права на запись для папки
 ```sh
 $ chmod -R 777 app/lib/tpl/tpl_compiled/
 ```

 4. Запустить приложение
 ```sh
 $ php -S localhost:8008
 ```
 
 5. Открыть приложение в браузере [http://localhost:8008](http://localhost:8008)

### Использование

После загрузки приложения у вас будет пример страниц шаблона. Выберите точку продажи **mobile** и перед вами откроется список страниц шаблона:

 * pay_cc.tpl - страница оплаты
 * pay_do.tpl - страница ожидания
 * pay_error.tpl - страница ошибки
 * check_cc.tpl - страница чека
 * check_error.tpl - страница ошибки чека
 * pay_one_cc.tpl - страница оплаты созраненной картой
 * pay_simple_cc.tpl -упрощенная страница оплаты
 * base.tpl - layout для шаблонов

Что начать разрабатывать шаблон, создайте директорию в папке **/custom/** (можно скопировать файлы из папки **mobile**). Все файлы для вашего шаблона должны лежать внутри созданной директории, при этом статические файлы по возможности необходимо размещать в папках
 * css
 * img
 * js

Файлы шаблонов ** *.tpl ** должны лежать в корне созданной вами папки

При обращении к статическим файлам из файлов шаблонов необходимо определять абсолютный путь, который предварительно необходимо определить:

```tpl
{% php %}
    $file = $this->get_template_vars('file');
    $path = explode("/",dirname($file));
    $this->assign('custom', '/custom/'.end($path)); // определение абсолютного пути
{% /php %} 
```

после чего можно использовать

```tpl
<link rel="stylesheet" href="{% $custom %}/css/style.css">
<script type="text/javascript" src="{% $custom %}/js/jquery-1.8.3.min.js"></script>
```

